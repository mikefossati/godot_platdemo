[gd_scene load_steps=7 format=3 uid="uid://vnrnx4wd8cs8"]

[ext_resource type="Script" path="res://scripts/bosses/goblin_king.gd" id="1_boss_script"]
[ext_resource type="Script" path="res://scripts/components/health_component.gd" id="2_health_component"]
[ext_resource type="PackedScene" path="res://assets/models/quaternius_platformer/Enemies/Enemy.gltf" id="3_enemy_model"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_body"]
radius = 1.0
height = 3.0

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_hurtbox"]
radius = 1.2
height = 3.2

[sub_resource type="StandardMaterial3D" id="BossMaterial"]
albedo_color = Color(0.8, 0.6, 0.1, 1)
metallic = 0.8
roughness = 0.2
emission_enabled = true
emission = Color(0.6, 0.4, 0.05, 1)
emission_energy_multiplier = 0.5

[node name="GoblinKing" type="CharacterBody3D" groups=["boss", "enemy"]]
collision_layer = 4
collision_mask = 3
script = ExtResource("1_boss_script")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, 0)
shape = SubResource("CapsuleShape3D_body")

[node name="HealthComponent" type="Node" parent="."]
script = ExtResource("2_health_component")

[node name="Hurtbox" type="Area3D" parent="."]
collision_layer = 5
collision_mask = 2

[node name="CollisionShape3D" type="CollisionShape3D" parent="Hurtbox"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, 0)
shape = SubResource("CapsuleShape3D_hurtbox")

[node name="CharacterModel" type="Node3D" parent="."]

[node name="Enemy" parent="CharacterModel" instance=ExtResource("3_enemy_model")]
transform = Transform3D(2.5, 0, 0, 0, 2.5, 0, 0, 0, 2.5, 0, 0, 0)

[node name="Armature" parent="CharacterModel/Enemy" index="0"]

[node name="Skeleton3D" parent="CharacterModel/Enemy/Armature" index="0"]

[node name="Cube" parent="CharacterModel/Enemy/Armature/Skeleton3D" index="0"]
surface_material_override/0 = SubResource("BossMaterial")

[editable path="CharacterModel/Enemy"]
